{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class SocureComponent {\n  constructor(el) {\n    this.el = el;\n    this.firstAttribute = 1;\n    this.sdkKey = '';\n    this.sdkInitiated = false;\n  }\n  ngOnInit() {}\n  ngAfterViewInit() {\n    this.addScript();\n  }\n  addScript() {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.onload = () => {\n      this.initSocure();\n    };\n    this.el.nativeElement.appendChild(script);\n  }\n  initSocure() {\n    const start = () => {\n      if (this.sdkInitiated) {\n        this.clearSession();\n        console.log('cleaned');\n        this.sdkInitiated = false;\n      }\n      SocureInitializer.init(this.sdkKey).then(lib => {\n        lib.init(this.sdkKey, \"#websdk\", this.config).then(() => {\n          lib.start(this.firstAttribute, this.inputData, this.processConfig).then(response => {\n            console.log(response);\n            this.sdkInitiated = true;\n          }, error => {\n            console.log(error);\n          });\n        });\n      });\n    };\n    const clearSession = () => {\n      Socure.cleanup();\n      Socure.reset();\n      sessionStorage.removeItem('documentVerificationToken');\n      sessionStorage.removeItem('publicApiKey');\n      localStorage.removeItem('devicer_id');\n      console.log(\"Socure DocV Session cleaned!\");\n    };\n    this.start = start;\n    this.clearSession = clearSession;\n  }\n  start() {\n    // Placeholder for the start function\n  }\n  clearSession() {\n    // Placeholder for the clearSession function\n  }\n}\nSocureComponent.ɵfac = function SocureComponent_Factory(t) {\n  return new (t || SocureComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\nSocureComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SocureComponent,\n  selectors: [[\"app-socure\"]],\n  inputs: {\n    config: \"config\",\n    inputData: \"inputData\",\n    processConfig: \"processConfig\",\n    firstAttribute: \"firstAttribute\",\n    sdkKey: \"sdkKey\"\n  },\n  decls: 5,\n  vars: 0,\n  consts: [[3, \"click\"], [\"id\", \"websdk\"]],\n  template: function SocureComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"socure works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function SocureComponent_Template_button_click_2_listener() {\n        return ctx.start();\n      });\n      i0.ɵɵtext(3, \"Start\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"div\", 1);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAUA,OAAM,MAAOA,eAAe;EAS1BC,YAAoBC,EAAc;IAAd,OAAE,GAAFA,EAAE;IALb,mBAAc,GAAW,CAAC;IAC1B,WAAM,GAAW,EAAE;IAEpB,iBAAY,GAAY,KAAK;EAEA;EAErCC,QAAQ,IAAU;EAElBC,eAAe;IACb,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAAS;IACP,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,IAAI,GAAG,iBAAiB;IAC/BH,MAAM,CAACI,GAAG,GAAG,qCAAqC;IAClDJ,MAAM,CAACK,MAAM,GAAG,MAAK;MACnB,IAAI,CAACC,UAAU,EAAE;IACnB,CAAC;IACD,IAAI,CAACV,EAAE,CAACW,aAAa,CAACC,WAAW,CAACR,MAAM,CAAC;EAC3C;EAEAM,UAAU;IACR,MAAMG,KAAK,GAAG,MAAK;MACjB,IAAI,IAAI,CAACC,YAAY,EAAE;QACrB,IAAI,CAACC,YAAY,EAAE;QACnBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,IAAI,CAACH,YAAY,GAAG,KAAK;;MAG3BI,iBAAiB,CAACC,IAAI,CAAC,IAAI,CAACC,MAAM,CAAC,CAChCC,IAAI,CAAEC,GAAQ,IAAI;QACjBA,GAAG,CAACH,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE,SAAS,EAAE,IAAI,CAACG,MAAM,CAAC,CAACF,IAAI,CAAC,MAAK;UACtDC,GAAG,CAACT,KAAK,CAAC,IAAI,CAACW,cAAc,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAACC,aAAa,CAAC,CAACL,IAAI,CAAEM,QAAa,IAAI;YACxFX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC;YACrB,IAAI,CAACb,YAAY,GAAG,IAAI;UAC1B,CAAC,EACAc,KAAU,IAAI;YACbZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;UACpB,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;IACN,CAAC;IAED,MAAMb,YAAY,GAAG,MAAK;MACxBc,MAAM,CAACC,OAAO,EAAE;MAChBD,MAAM,CAACE,KAAK,EAAE;MACdC,cAAc,CAACC,UAAU,CAAC,2BAA2B,CAAC;MACtDD,cAAc,CAACC,UAAU,CAAC,cAAc,CAAC;MACzCC,YAAY,CAACD,UAAU,CAAC,YAAY,CAAC;MACrCjB,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC7C,CAAC;IAED,IAAI,CAACJ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,YAAY,GAAGA,YAAY;EAClC;EAEAF,KAAK;IACH;EAAA;EAGFE,YAAY;IACV;EAAA;;AAnESjB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAqC;EAAAC;IAAAb;IAAAE;IAAAC;IAAAF;IAAAJ;EAAA;EAAAiB;EAAAC;EAAAC;EAAAC;IAAA;MCV5BC,yBAAG;MAAAA,6BAAa;MAAAA,iBAAI;MACpBA,iCAA0B;MAAlBA;QAAA,OAASC,WAAO;MAAA,EAAC;MAACD,qBAAK;MAAAA,iBAAS;MACxCA,yBAAuB","names":["SocureComponent","constructor","el","ngOnInit","ngAfterViewInit","addScript","script","document","createElement","type","src","onload","initSocure","nativeElement","appendChild","start","sdkInitiated","clearSession","console","log","SocureInitializer","init","sdkKey","then","lib","config","firstAttribute","inputData","processConfig","response","error","Socure","cleanup","reset","sessionStorage","removeItem","localStorage","selectors","inputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_AngularSample/src/app/socure/socure.component.ts","/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_AngularSample/src/app/socure/socure.component.html"],"sourcesContent":["import { Component, OnInit, Input, ElementRef, AfterViewInit } from '@angular/core';\n\ndeclare var SocureInitializer: any;\ndeclare var Socure: any;\n\n@Component({\n  selector: 'app-socure',\n  templateUrl: './socure.component.html',\n  styleUrls: ['./socure.component.css']\n})\nexport class SocureComponent implements OnInit, AfterViewInit {\n  @Input() config: any;\n  @Input() inputData: any;\n  @Input() processConfig: any;\n  @Input() firstAttribute: number = 1;\n  @Input() sdkKey: string = '';\n\n  private sdkInitiated: boolean = false;\n\n  constructor(private el: ElementRef) {}\n\n  ngOnInit(): void {}\n\n  ngAfterViewInit(): void {\n    this.addScript();\n  }\n\n  addScript() {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.onload = () => {\n      this.initSocure();\n    };\n    this.el.nativeElement.appendChild(script);\n  }\n\n  initSocure() {\n    const start = () => {\n      if (this.sdkInitiated) {\n        this.clearSession();\n        console.log('cleaned');\n        this.sdkInitiated = false;\n      }\n\n      SocureInitializer.init(this.sdkKey)\n        .then((lib: any) => {\n          lib.init(this.sdkKey, \"#websdk\", this.config).then(() => {\n            lib.start(this.firstAttribute, this.inputData, this.processConfig).then((response: any) => {\n              console.log(response);\n              this.sdkInitiated = true;\n            },\n            (error: any) => {\n              console.log(error);\n            });\n          });\n        });\n    };\n\n    const clearSession = () => {\n      Socure.cleanup();\n      Socure.reset();\n      sessionStorage.removeItem('documentVerificationToken');\n      sessionStorage.removeItem('publicApiKey');\n      localStorage.removeItem('devicer_id');\n      console.log(\"Socure DocV Session cleaned!\");\n    }\n\n    this.start = start;\n    this.clearSession = clearSession;\n  }\n\n  start() {\n    // Placeholder for the start function\n  }\n\n  clearSession() {\n    // Placeholder for the clearSession function\n  }\n}\n","<p>socure works!</p>\n<button (click)=\"start()\">Start</button>\n<div id=\"websdk\"></div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}