{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let SocureComponent = /*#__PURE__*/(() => {\n  class SocureComponent {\n    constructor(el) {\n      this.el = el;\n      this.firstAttribute = 1;\n      this.sdkKey = '';\n      this.sdkInitiated = false;\n    }\n    ngOnInit() {}\n    ngAfterViewInit() {\n      this.addScript();\n    }\n    addScript() {\n      const script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = 'https://websdk.socure.com/bundle.js';\n      script.onload = () => {\n        this.initSocure();\n      };\n      this.el.nativeElement.appendChild(script);\n    }\n    initSocure() {\n      const start = () => {\n        if (this.sdkInitiated) {\n          this.clearSession();\n          console.log('cleaned');\n          this.sdkInitiated = false;\n        }\n        SocureInitializer.init(this.sdkKey).then(lib => {\n          lib.init(this.sdkKey, \"#websdk\", this.config).then(() => {\n            lib.start(this.firstAttribute, this.inputData, this.processConfig).then(response => {\n              console.log(response);\n              this.sdkInitiated = true;\n            }, error => {\n              console.log(error);\n            });\n          });\n        });\n      };\n      const clearSession = () => {\n        Socure.cleanup();\n        Socure.reset();\n        sessionStorage.removeItem('documentVerificationToken');\n        sessionStorage.removeItem('publicApiKey');\n        localStorage.removeItem('devicer_id');\n        console.log(\"Socure DocV Session cleaned!\");\n      };\n      this.start = start;\n      this.clearSession = clearSession;\n    }\n    start() {\n      // Placeholder for the start function\n    }\n    clearSession() {\n      // Placeholder for the clearSession function\n    }\n  }\n  SocureComponent.ɵfac = function SocureComponent_Factory(t) {\n    return new (t || SocureComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  SocureComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SocureComponent,\n    selectors: [[\"app-socure\"]],\n    inputs: {\n      config: \"config\",\n      inputData: \"inputData\",\n      processConfig: \"processConfig\",\n      firstAttribute: \"firstAttribute\",\n      sdkKey: \"sdkKey\"\n    },\n    decls: 5,\n    vars: 0,\n    consts: [[3, \"click\"], [\"id\", \"websdk\"]],\n    template: function SocureComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"socure works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function SocureComponent_Template_button_click_2_listener() {\n          return ctx.start();\n        });\n        i0.ɵɵtext(3, \"Start\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"div\", 1);\n      }\n    }\n  });\n  return SocureComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}